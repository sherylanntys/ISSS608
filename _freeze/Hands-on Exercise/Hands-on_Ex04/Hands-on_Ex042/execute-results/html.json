{
  "hash": "a906d3b6851a6828584d1837080883e3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Hands-on Exercise 4.2: Visual Statistics Analysis\"\nauthor: \"Sheryl Ann Tan Yi-Shi\"\ndate: \"2025-02-01\"\ndate-modified: \"last-modified\"\nexecute: \n  echo: true\n  eval: true\n  warning: false\n  freeze: true\n---\n\n\n\n# 1.0 Getting Started\n\n## 1.1 Installing and Loading the R Packages\n\nIn this exercise, `ggstatsplot` would be used to create visual graphics with rich statistical information.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(ggstatsplot, tidyverse)\n```\n:::\n\n\n\n## 1.2 Importing Data\n\nThe code chunk below uses `read_csv( )` to import *exam_data.csv* into R and save it into a tibble data frame:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexam <- read_csv(\"data/Exam_data.csv\")\n```\n:::\n\n\n\n# 2.0 Using `ggstatsplot` Package\n\n## 2.1 One-Sample Test: `gghistostats()` Method\n\nThe code chunk below uses `gghistostats()` to build a visual of one-sample test on English scores.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1234)\n\ngghistostats(\n  data = exam,\n  x = ENGLISH,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"English scores\"\n)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n-   `type` specifies the type of statistical analysis to be performed.\n\n-   `test.value` refers to the value which the observed data (English scores) will be compared against.\n\n-   Based on the plot above, the very negative log~e~(BF~01~) of -31.45 suggests a strong statistical evidence against the null hypothesis, implying that the mean English score is different from 60.\n:::\n\n## 2.2. Two-Sample Mean Test: `ggbetweenstats()`\n\nThe code chunk below uses `ggbetweenstats()` to build a bisual for two-sample mean test of Math scores by gender:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggbetweenstats(\n  data = exam,\n  x = GENDER, \n  y = MATHS,\n  type = \"np\",\n  messages = FALSE\n)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n-   The Mann-Whitney U test is a non-parametric test, which is used to compare differences between two independent groups when the data cannot be assumed to be normally distributed.\n-   Since the p-value is 0.91 (\\>0.05) suggests that there is no statistically significant difference in Math scores between males and females. The high p-value implies that any observed differences in median scores is likely due to random chance rather than systematic differences between genders.\n:::\n\n## 2.3 One-Way ANOVA Test: `ggbetweenstats()` Method\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggbetweenstats(\n  data = exam,\n  x = RACE, \n  y = ENGLISH,\n  type = \"p\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"s\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n-   The Welch ANOVA test is used to determine if there are statistically significant differences in the mean for \\>3 groups. It is tailored for situations where the groups do not have equal variances (\"heteroscedasticity\").\n-   Since the p-value is 1.71e-04 (\\<0.05), the differences in English scores amongst racial groups is statistically significant.\n:::\n\n## 2.4 Significant Test of Correlation: `ggscatterstats()`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggscatterstats(\n  data = exam,\n  x = MATHS,\n  y = ENGLISH,\n  marginal = FALSE,\n  )\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n::: callout-note\n-   p-value of 1.70e-83 (\\<0.05) suggests that the relationship between English and Maths is statistically significant.\n-   Correlation Coefficient of 0.83 indicates a strong positive correlation between Math and English scores.\n:::\n\n## 2.5 Significant Test of Association\n\nThe code chunk below bins the Math scores into a 4-class variable:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nexam1 <- exam %>% \n  mutate(MATHS_bins = \n           cut(MATHS, \n               breaks = c(0,60,75,85,100))\n)\n```\n:::\n\n\n\nThe code chunk below uses `ggbarstats()` to build a visual for significant test of association:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggbarstats(exam1, \n           x = MATHS_bins, \n           y = GENDER)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n# 3.0 Visualising Models\n\n## 3.1 Getting Started\n\n### 3.1.1 Installing and Loading the Required Libraries\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(readxl, performance, parameters, see)\n```\n:::\n\n\n\n### 3.1.2 Importing Excel File\n\nThe code chunk below uses `read_xls()` to import the data worksheet of `ToyotaCorolla.xls` workbook into R:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncar_resale <- read_xls(\"data/ToyotaCorolla.xls\", \n                       \"data\")\ncar_resale\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,436 × 38\n      Id Model          Price Age_08_04 Mfg_Month Mfg_Year    KM Fuel_Type    HP\n   <dbl> <chr>          <dbl>     <dbl>     <dbl>    <dbl> <dbl> <chr>     <dbl>\n 1     1 TOYOTA Coroll… 13500        23        10     2002 46986 Diesel       90\n 2     2 TOYOTA Coroll… 13750        23        10     2002 72937 Diesel       90\n 3     3  TOYOTA Corol… 13950        24         9     2002 41711 Diesel       90\n 4     4 TOYOTA Coroll… 14950        26         7     2002 48000 Diesel       90\n 5     5 TOYOTA Coroll… 13750        30         3     2002 38500 Diesel       90\n 6     6 TOYOTA Coroll… 12950        32         1     2002 61000 Diesel       90\n 7     7  TOYOTA Corol… 16900        27         6     2002 94612 Diesel       90\n 8     8 TOYOTA Coroll… 18600        30         3     2002 75889 Diesel       90\n 9     9  TOYOTA Corol… 21500        27         6     2002 19700 Petrol      192\n10    10  TOYOTA Corol… 12950        23        10     2002 71138 Diesel       69\n# ℹ 1,426 more rows\n# ℹ 29 more variables: Met_Color <dbl>, Color <chr>, Automatic <dbl>, CC <dbl>,\n#   Doors <dbl>, Cylinders <dbl>, Gears <dbl>, Quarterly_Tax <dbl>,\n#   Weight <dbl>, Mfr_Guarantee <dbl>, BOVAG_Guarantee <dbl>,\n#   Guarantee_Period <dbl>, ABS <dbl>, Airbag_1 <dbl>, Airbag_2 <dbl>,\n#   Airco <dbl>, Automatic_airco <dbl>, Boardcomputer <dbl>, CD_Player <dbl>,\n#   Central_Lock <dbl>, Powered_Windows <dbl>, Power_Steering <dbl>, …\n```\n\n\n:::\n:::\n\n\n\n## 3.2 Multiple Regression Model Using `lm()`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel <- lm(Price ~ Age_08_04 + Mfg_Year + KM + \n              Weight + Guarantee_Period, data = car_resale)\nmodel\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = Price ~ Age_08_04 + Mfg_Year + KM + Weight + Guarantee_Period, \n    data = car_resale)\n\nCoefficients:\n     (Intercept)         Age_08_04          Mfg_Year                KM  \n      -2.637e+06        -1.409e+01         1.315e+03        -2.323e-02  \n          Weight  Guarantee_Period  \n       1.903e+01         2.770e+01  \n```\n\n\n:::\n:::\n\n\n\n## 3.3 Model Diagnostic: Checking for Multicollinearity\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_collinearity(model)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Check for Multicollinearity\n\nLow Correlation\n\n             Term  VIF     VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n               KM 1.46 [ 1.37,  1.57]         1.21      0.68     [0.64, 0.73]\n           Weight 1.41 [ 1.32,  1.51]         1.19      0.71     [0.66, 0.76]\n Guarantee_Period 1.04 [ 1.01,  1.17]         1.02      0.97     [0.86, 0.99]\n\nHigh Correlation\n\n      Term   VIF     VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n Age_08_04 31.07 [28.08, 34.38]         5.57      0.03     [0.03, 0.04]\n  Mfg_Year 31.16 [28.16, 34.48]         5.58      0.03     [0.03, 0.04]\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_c <- check_collinearity(model)\nplot(check_c)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\nVariables that are highly collinear with one or more other variables in the model. High VIF for these variables indicates that they share a substantial amount of information with other predictors, reducing the precision of the estimates of the model coefficients. Potential actions for high VIF variables include removing one of the highly collinear variables (either Age_08_04 or Mfg_Year) to reduce multicollinearity.\n\n## 3.4 Model Diagnostics: Checking Normality Assumption\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel1 <- lm(Price ~ Age_08_04 + KM + \n              Weight + Guarantee_Period, data = car_resale)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_n <- check_normality(model1)\nplot(check_n)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n\nThe assumption of normality of residuals is not fully met, as indicated by the outliers and the heavy tails.\n\n## 3.5 Model Diagnostics: Check Model for Homogeneity of Variances\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_h <- check_heteroscedasticity(model1)\nplot(check_h)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n\n## 3.6 Model Diagnostics: Complete Check\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncheck_model(model1)\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n\n## 3.7 Visualising Regression Parameters: `see` Methods\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(parameters(model1))\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\n\n## 3.8 Visualising Regression Parameters: `ggcoefstats()` Methods\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggcoefstats(model1, \n            output = \"plot\")\n```\n\n::: {.cell-output-display}\n![](Hands-on_Ex042_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "Hands-on_Ex042_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}